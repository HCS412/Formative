import{be as je,bf as In,bg as En,bh as Tr,bi as We,bj as He,bk as Ve,bl as _r,B as F,b7 as Ge,i as Cn,aQ as mt,bm as ge,b2 as z,bd as pt,b as _t,bn as Or,bo as st,bp as N,bq as K,br as An,bs as zr,X as W,j as k,a as Ot,bt as it,a9 as ot,bu as vt,bv as Ke,au as at,bw as Pn,a2 as xn,bx as Je,by as Fr,h as Sn,Y as T,l as kn,p as ct,m as Ur,bz as qr,J as Nn,bA as Ze,F as Bn,bB as be,e as we,bC as Rn,a0 as $n,bD as Lr,bE as Tn,bF as zt,I as _n,bG as Mr,bH as Dr,bI as yt,aJ as Bt,bb as J,r as jr,bJ as tt,s as D,bK as Qe,H as Jt,ax as re,az as Wr,V as On,W as Hr,aA as Vr,aB as Gr,bL as Kr,bM as Z,bN as ut,bO as L,bP as gt,bQ as zn,bR as Jr,bS as ve,bT as j,bU as Zr,bV as Qr,bW as Yr,bX as Ft,ac as Fn,bY as Un,bZ as qn,b_ as Ln,b$ as Mn,c0 as Xr,ba as ts,c1 as es,c2 as ns,c3 as rs,c4 as ss,c5 as se,$ as Rt,c6 as os,aW as is,c7 as as,N as cs,c8 as Dn,c9 as Ye,ca as us,cb as fs,cc as ds,cd as ls,b8 as jn,a6 as bt,ce as ht,a7 as Ut,cf as Wn,bc as hs,cg as ps,A as ms,ch as ys,ci as gs,ab as bs,q as ws,n as vs,cj as Is,a4 as Es,ck as Cs,cl as As,cm as Ps,b9 as xs,k as Ss,c as ks,cn as Ns,co as Bs,cp as Rs,aa as ft,ad as $s,at as Hn,cq as Ie,ae as Ts,cr as Vn,cs as $t,ct as Xe,U as H,a8 as _s,cu as Zt,cv as Qt,aX as Os,ag as q,cw as zs,af as Ee,y as Ce,ah as Ae,ai as qt,cx as Fs}from"./useChainId-D7YJGvzg.js";import{m as Us,r as It}from"./index-DodDctfl.js";import{l as Pe,i as Lt}from"./isAddressEqual-CLzLXNo_.js";import{s as qs}from"./secp256k1-DEMtbeZA.js";function tn(t){let e;if(typeof t=="string")e=je(t);else{const n=In(t),r=t.length;for(let s=0;s<r;s++){const o=t[s];if(!En(o)){e=je(o,n);break}}}if(!e)throw new Tr({signature:t});return e}function en(t){const e=[];if(typeof t=="string"){const n=We(t),r=n.length;for(let s=0;s<r;s++)e.push(He(n[s],{modifiers:Ve}))}else{const n=In(t),r=t.length;for(let s=0;s<r;s++){const o=t[s];if(En(o))continue;const i=We(o),a=i.length;for(let u=0;u<a;u++)e.push(He(i[u],{modifiers:Ve,structs:n}))}}if(e.length===0)throw new _r({params:t});return e}function xe(t){if(!(t instanceof F))return!1;const e=t.walk(n=>n instanceof Ge);return e instanceof Ge?e.data?.errorName==="HttpError"||e.data?.errorName==="ResolverError"||e.data?.errorName==="ResolverNotContract"||e.data?.errorName==="ResolverNotFound"||e.data?.errorName==="ReverseAddressMismatch"||e.data?.errorName==="UnsupportedResolverProfile":!1}function Gn(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return Cn(e)?e:null}function oe(t){let e=new Uint8Array(32).fill(0);if(!t)return mt(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const s=Gn(n[r]),o=s?ge(s):z(pt(n[r]),"bytes");e=z(_t([e,o]),"bytes")}return mt(e)}function Ls(t){return`[${t.slice(2)}]`}function Ms(t){const e=new Uint8Array(32).fill(0);return t?Gn(t)||z(pt(t)):mt(e)}function Se(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(pt(e).byteLength+2);let r=0;const s=e.split(".");for(let o=0;o<s.length;o++){let i=pt(s[o]);i.byteLength>255&&(i=pt(Ls(Ms(s[o])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}function Et(t,e){if(et(t)>e)throw new eo({givenSize:et(t),maxSize:e})}const V={zero:48,nine:57,A:65,F:70,a:97,f:102};function nn(t){if(t>=V.zero&&t<=V.nine)return t-V.zero;if(t>=V.A&&t<=V.F)return t-(V.A-10);if(t>=V.a&&t<=V.f)return t-(V.a-10)}function Ds(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new no({size:t.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let o=0;o<r;o++){const i=n==="right";s[i?o:r-o-1]=t[i?o:t.length-o-1]}return s}function Kn(t,e={}){const{dir:n="left"}=e;let r=t,s=0;for(let o=0;o<r.length-1&&r[n==="left"?o:r.length-o-1].toString()==="0";o++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}const js=new TextDecoder,Ws=new TextEncoder;function Hs(t){return t instanceof Uint8Array?t:typeof t=="string"?Jn(t):Vs(t)}function Vs(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function Jn(t,e={}){const{size:n}=e;let r=t;n&&(Or(t,n),r=st(t,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const o=s.length/2,i=new Uint8Array(o);for(let a=0,u=0;a<o;a++){const c=nn(s.charCodeAt(u++)),f=nn(s.charCodeAt(u++));if(c===void 0||f===void 0)throw new N(`Invalid byte sequence ("${s[u-2]}${s[u-1]}" in "${s}").`);i[a]=c*16+f}return i}function Gs(t,e={}){const{size:n}=e,r=Ws.encode(t);return typeof n=="number"?(Et(r,n),Ks(r,n)):r}function Ks(t,e){return Ds(t,{dir:"right",size:e})}function et(t){return t.length}function Js(t,e,n,r={}){const{strict:s}=r;return t.slice(e,n)}function Zs(t,e={}){const{size:n}=e;typeof n<"u"&&Et(t,n);const r=K(t,e);return zr(r,e)}function Qs(t,e={}){const{size:n}=e;let r=t;if(typeof n<"u"&&(Et(r,n),r=Zn(r)),r.length>1||r[0]>1)throw new to(r);return!!r[0]}function G(t,e={}){const{size:n}=e;typeof n<"u"&&Et(t,n);const r=K(t,e);return An(r,e)}function Ys(t,e={}){const{size:n}=e;let r=t;return typeof n<"u"&&(Et(r,n),r=Xs(r)),js.decode(r)}function Zn(t){return Kn(t,{dir:"left"})}function Xs(t){return Kn(t,{dir:"right"})}class to extends N{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}class eo extends N{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class no extends N{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}async function U(t,e){const{abi:n,address:r,args:s,functionName:o,...i}=e,a=W({abi:n,args:s,functionName:o});try{const{data:u}=await k(t,Ot,"call")({...i,data:a,to:r});return it({abi:n,args:s,functionName:o,data:u||"0x"})}catch(u){throw ot(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function ro(t,e){const{blockNumber:n,blockTag:r,coinType:s,name:o,gatewayUrls:i,strict:a}=e,{chain:u}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!u)throw new Error("client chain not configured. universalResolverAddress is required.");return vt({blockNumber:n,chain:u,contract:"ensUniversalResolver"})})(),f=u?.ensTlds;if(f&&!f.some(l=>o.endsWith(l)))return null;const d=s!=null?[oe(o),BigInt(s)]:[oe(o)];try{const l=W({abi:Ke,functionName:"addr",args:d}),m={address:c,abi:Pn,functionName:"resolveWithGateways",args:[at(Se(o)),l,i??[Pe]],blockNumber:n,blockTag:r},p=await k(t,U,"readContract")(m);if(p[0]==="0x")return null;const h=it({abi:Ke,args:d,functionName:"addr",data:p[0]});return h==="0x"||xn(h)==="0x00"?null:h}catch(l){if(a)throw l;if(xe(l))return null;throw l}}class so extends F{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class lt extends F{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class ke extends F{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class oo extends F{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const io=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,ao=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,co=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,uo=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function fo(t){try{const e=await fetch(t,{method:"HEAD"});return e.status===200?e.headers.get("content-type")?.startsWith("image/"):!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function rn(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function Qn({uri:t,gatewayUrls:e}){const n=co.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=rn(e?.ipfs,"https://ipfs.io"),s=rn(e?.arweave,"https://arweave.net"),o=t.match(io),{protocol:i,subpath:a,target:u,subtarget:c=""}=o?.groups||{},f=i==="ipns:/"||a==="ipns/",d=i==="ipfs:/"||a==="ipfs/"||ao.test(t);if(t.startsWith("http")&&!f&&!d){let m=t;return e?.arweave&&(m=t.replace(/https:\/\/arweave.net/g,e?.arweave)),{uri:m,isOnChain:!1,isEncoded:!1}}if((f||d)&&u)return{uri:`${r}/${f?"ipns":"ipfs"}/${u}${c}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&u)return{uri:`${s}/${u}${c||""}`,isOnChain:!1,isEncoded:!1};let l=t.replace(uo,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new ke({uri:t})}function Yn(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new so({data:t});return t.image||t.image_url||t.image_data}async function lo({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(s=>s.json());return await Ne({gatewayUrls:t,uri:Yn(n)})}catch{throw new ke({uri:e})}}async function Ne({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=Qn({uri:e,gatewayUrls:t});if(r||await fo(n))return n;throw new ke({uri:e})}function ho(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=e.split("/"),[o,i]=n.split(":"),[a,u]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new lt({reason:"Only EIP-155 supported"});if(!i)throw new lt({reason:"Chain ID not found"});if(!u)throw new lt({reason:"Contract address not found"});if(!s)throw new lt({reason:"Token ID not found"});if(!a)throw new lt({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i,10),namespace:a.toLowerCase(),contractAddress:u,tokenID:s}}async function po(t,{nft:e}){if(e.namespace==="erc721")return U(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return U(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new oo({namespace:e.namespace})}async function mo(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?yo(t,{gatewayUrls:e,record:n}):Ne({uri:n,gatewayUrls:e})}async function yo(t,{gatewayUrls:e,record:n}){const r=ho(n),s=await po(t,{nft:r}),{uri:o,isOnChain:i,isEncoded:a}=Qn({uri:s,gatewayUrls:e});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const c=a?atob(o.replace("data:application/json;base64,","")):o,f=JSON.parse(c);return Ne({uri:Yn(f),gatewayUrls:e})}let u=r.tokenID;return r.namespace==="erc1155"&&(u=u.replace("0x","").padStart(64,"0")),lo({gatewayUrls:e,uri:o.replace(/(?:0x)?{id}/,u)})}async function Xn(t,e){const{blockNumber:n,blockTag:r,key:s,name:o,gatewayUrls:i,strict:a}=e,{chain:u}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!u)throw new Error("client chain not configured. universalResolverAddress is required.");return vt({blockNumber:n,chain:u,contract:"ensUniversalResolver"})})(),f=u?.ensTlds;if(f&&!f.some(d=>o.endsWith(d)))return null;try{const d={address:c,abi:Pn,args:[at(Se(o)),W({abi:Je,functionName:"text",args:[oe(o),s]}),i??[Pe]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},m=await k(t,U,"readContract")(d);if(m[0]==="0x")return null;const y=it({abi:Je,functionName:"text",data:m[0]});return y===""?null:y}catch(d){if(a)throw d;if(xe(d))return null;throw d}}async function tr(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){const u=await k(t,Xn,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:o,strict:i});if(!u)return null;try{return await mo(t,{record:u,gatewayUrls:r})}catch{return null}}async function er(t,e){const{address:n,blockNumber:r,blockTag:s,coinType:o=60n,gatewayUrls:i,strict:a}=e,{chain:u}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!u)throw new Error("client chain not configured. universalResolverAddress is required.");return vt({blockNumber:r,chain:u,contract:"ensUniversalResolver"})})();try{const f={address:c,abi:Fr,args:[n,o,i??[Pe]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},d=k(t,U,"readContract"),[l]=await d(f);return l||null}catch(f){if(a)throw f;if(xe(f))return null;throw f}}async function go(t,e){const{blockNumber:n,blockTag:r,name:s}=e,{chain:o}=t,i=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return vt({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),a=o?.ensTlds;if(a&&!a.some(c=>s.endsWith(c)))throw new Error(`${s} is not a valid ENS TLD (${a?.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[u]=await k(t,U,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[at(Se(s))],blockNumber:n,blockTag:r});return u}async function nr(t,e){const{account:n=t.account,blockNumber:r,blockTag:s="latest",blobs:o,data:i,gas:a,gasPrice:u,maxFeePerBlobGas:c,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:m,...y}=e,p=n?ct(n):void 0;try{Sn(e);const E=(typeof r=="bigint"?T(r):void 0)||s,I=t.chain?.formatters?.transactionRequest?.format,P=(I||kn)({...Ur(y,{format:I}),account:p,blobs:o,data:i,gas:a,gasPrice:u,maxFeePerBlobGas:c,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:m},"createAccessList"),g=await t.request({method:"eth_createAccessList",params:[P,E]});return{accessList:g.accessList,gasUsed:BigInt(g.gasUsed)}}catch(h){throw qr(h,{...e,account:p,chain:t.chain})}}function Mt(t,{method:e}){const n={};return t.transport.type==="fallback"&&t.transport.onResponse?.(({method:r,response:s,status:o,transport:i})=>{o==="success"&&e===r&&(n[s]=i.request)}),(r=>n[r]||t.request)}async function bo(t){const e=Mt(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}class wo extends F{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const sn="/docs/contract/encodeEventTopics";function Ct(t){const{abi:e,eventName:n,args:r}=t;let s=e[0];if(n){const u=Nn({abi:e,name:n});if(!u)throw new Ze(n,{docsPath:sn});s=u}if(s.type!=="event")throw new Ze(void 0,{docsPath:sn});const o=Bn(s),i=be(o);let a=[];if(r&&"inputs"in s){const u=s.inputs?.filter(f=>"indexed"in f&&f.indexed),c=Array.isArray(r)?r:Object.values(r).length>0?u?.map(f=>r[f.name])??[]:[];c.length>0&&(a=u?.map((f,d)=>Array.isArray(c[d])?c[d].map((l,m)=>on({param:f,value:c[d][m]})):typeof c[d]<"u"&&c[d]!==null?on({param:f,value:c[d]}):null)??[])}return[i,...a]}function on({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return z(ge(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new wo(t.type);return we([t],[e])}async function rr(t,e){const{address:n,abi:r,args:s,eventName:o,fromBlock:i,strict:a,toBlock:u}=e,c=Mt(t,{method:"eth_newFilter"}),f=o?Ct({abi:r,args:s,eventName:o}):void 0,d=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?T(i):i,toBlock:typeof u=="bigint"?T(u):u,topics:f}]});return{abi:r,args:s,eventName:o,id:d,request:c(d),strict:!!a,type:"event"}}async function sr(t,{address:e,args:n,event:r,events:s,fromBlock:o,strict:i,toBlock:a}={}){const u=s??(r?[r]:void 0),c=Mt(t,{method:"eth_newFilter"});let f=[];u&&(f=[u.flatMap(m=>Ct({abi:[m],eventName:m.name,args:n}))],r&&(f=f[0]));const d=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof o=="bigint"?T(o):o,toBlock:typeof a=="bigint"?T(a):a,...f.length?{topics:f}:{}}]});return{abi:u,args:n,eventName:r?r.name:void 0,fromBlock:o,id:d,request:c(d),strict:!!i,toBlock:a,type:"event"}}async function or(t){const e=Mt(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function vo(t,e){const{abi:n,address:r,args:s,functionName:o,dataSuffix:i,...a}=e,u=W({abi:n,args:s,functionName:o});try{return await k(t,Rn,"estimateGas")({data:`${u}${i?i.replace("0x",""):""}`,to:r,...a})}catch(c){const f=a.account?ct(a.account):void 0;throw ot(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:f?.address})}}async function ir(t,{address:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?T(n):void 0,o=await t.request({method:"eth_getBalance",params:[e,s||r]});return BigInt(o)}async function Io(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function Eo(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?T(n):void 0;let o;return e?o=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):o=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),$n(o)}async function ie(t,{address:e,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?T(n):void 0,o=await t.request({method:"eth_getCode",params:[e,s||r]},{dedupe:!!s});if(o!=="0x")return o}const an="/docs/contract/decodeEventLog";function Be(t){const{abi:e,data:n,strict:r,topics:s}=t,o=r??!0,[i,...a]=s;if(!i)throw new Lr({docsPath:an});const u=e.find(p=>p.type==="event"&&i===be(Bn(p)));if(!(u&&"name"in u)||u.type!=="event")throw new Tn(i,{docsPath:an});const{name:c,inputs:f}=u,d=f?.some(p=>!("name"in p&&p.name)),l=d?[]:{},m=f.map((p,h)=>[p,h]).filter(([p])=>"indexed"in p&&p.indexed);for(let p=0;p<m.length;p++){const[h,E]=m[p],I=a[p];if(!I)throw new zt({abiItem:u,param:h});l[d?E:h.name||E]=Co({param:h,value:I})}const y=f.filter(p=>!("indexed"in p&&p.indexed));if(y.length>0){if(n&&n!=="0x")try{const p=_n(y,n);if(p)if(d)for(let h=0;h<f.length;h++)l[h]=l[h]??p.shift();else for(let h=0;h<y.length;h++)l[y[h].name]=p[h]}catch(p){if(o)throw p instanceof Mr||p instanceof Dr?new yt({abiItem:u,data:n,params:y,size:Bt(n)}):p}else if(o)throw new yt({abiItem:u,data:"0x",params:y,size:0})}return{eventName:c,args:Object.values(l).length>0?l:void 0}}function Co({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(_n([t],e)||[])[0]}function Re(t){const{abi:e,args:n,logs:r,strict:s=!0}=t,o=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(i=>{try{const a=e.find(c=>c.type==="event"&&i.topics[0]===be(c));if(!a)return null;const u=Be({...i,abi:[a],strict:s});return o&&!o.includes(u.eventName)||!Ao({args:u.args,inputs:a.inputs,matchArgs:n})?null:{...u,...i}}catch(a){let u,c;if(a instanceof Tn)return null;if(a instanceof yt||a instanceof zt){if(s)return null;u=a.abiItem.name,c=a.abiItem.inputs?.some(f=>!("name"in f&&f.name))}return{...i,args:c?[]:{},eventName:u}}}).filter(Boolean)}function Ao(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function s(o,i,a){try{return o.type==="address"?Lt(i,a):o.type==="string"||o.type==="bytes"?z(ge(i))===a:i===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((o,i)=>{if(o==null)return!0;const a=n[i];return a?(Array.isArray(o)?o:[o]).some(c=>s(a,c,e[i])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,i])=>{if(i==null)return!0;const a=n.find(c=>c.name===o);return a?(Array.isArray(i)?i:[i]).some(c=>s(a,c,e[o])):!1}):!1}async function $e(t,{address:e,blockHash:n,fromBlock:r,toBlock:s,event:o,events:i,args:a,strict:u}={}){const c=u??!1,f=i??(o?[o]:void 0);let d=[];f&&(d=[f.flatMap(p=>Ct({abi:[p],eventName:p.name,args:i?void 0:a}))],o&&(d=d[0]));let l;n?l=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,blockHash:n}]}):l=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,fromBlock:typeof r=="bigint"?T(r):r,toBlock:typeof s=="bigint"?T(s):s}]});const m=l.map(y=>J(y));return f?Re({abi:f,args:a,logs:m,strict:c}):m}async function ar(t,e){const{abi:n,address:r,args:s,blockHash:o,eventName:i,fromBlock:a,toBlock:u,strict:c}=e,f=i?Nn({abi:n,name:i}):void 0,d=f?void 0:n.filter(l=>l.type==="event");return k(t,$e,"getLogs")({address:r,args:s,blockHash:o,event:f,events:d,fromBlock:a,toBlock:u,strict:c})}class Po extends F{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function xo(t,e){const{address:n,factory:r,factoryData:s}=e;try{const[o,i,a,u,c,f,d]=await k(t,U,"readContract")({abi:So,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:a,chainId:Number(u),verifyingContract:c,salt:f},extensions:d,fields:o}}catch(o){const i=o;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new Po({address:n}):i}}const So=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function ko(t){return{baseFeePerGas:t.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:t.reward?.map(e=>e.map(n=>BigInt(n)))}}async function No(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=typeof n=="bigint"?T(n):void 0,i=await t.request({method:"eth_feeHistory",params:[T(e),o||r,s]},{dedupe:!!o});return ko(i)}async function Dt(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>J(o));return!("abi"in e)||!e.abi?s:Re({abi:e.abi,logs:s,strict:n})}async function Bo(t,{filter:e}){const n=e.strict??!1,s=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(o=>J(o));return e.abi?Re({abi:e.abi,logs:s,strict:n}):s}async function Ro({address:t,authorization:e,signature:n}){return Lt(tt(t),await jr({authorization:e,signature:n}))}function cr(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,o)=>{(async()=>{let i;try{const a=new AbortController;n>0&&(i=setTimeout(()=>{r?a.abort():o(e)},n)),s(await t({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&o(e),o(a)}finally{clearTimeout(i)}})()})}function $o(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const cn=$o();function To(t,e={}){return{async request(n){const{body:r,fetchFn:s=e.fetchFn??fetch,onRequest:o=e.onRequest,onResponse:i=e.onResponse,timeout:a=e.timeout??1e4}=n,u={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:f,signal:d}=u;try{const l=await cr(async({signal:y})=>{const p={...u,body:Array.isArray(r)?D(r.map(v=>({jsonrpc:"2.0",id:v.id??cn.take(),...v}))):D({jsonrpc:"2.0",id:r.id??cn.take(),...r}),headers:{"Content-Type":"application/json",...c},method:f||"POST",signal:d||(a>0?y:null)},h=new Request(t,p),E=await o?.(h,p)??{...p,url:t};return await s(E.url??t,E)},{errorInstance:new Qe({body:r,url:t}),timeout:a,signal:!0});i&&await i(l);let m;if(l.headers.get("Content-Type")?.startsWith("application/json"))m=await l.json();else{m=await l.text();try{m=JSON.parse(m||"{}")}catch(y){if(l.ok)throw y;m={error:m}}}if(!l.ok)throw new Jt({body:r,details:D(m.error)||l.statusText,headers:l.headers,status:l.status,url:t});return m}catch(l){throw l instanceof Jt||l instanceof Qe?l:new Jt({body:r,cause:l,url:t})}}}}const _o=`Ethereum Signed Message:
`;function Oo(t){const e=typeof t=="string"?re(t):typeof t.raw=="string"?t.raw:mt(t.raw),n=re(`${_o}${Bt(e)}`);return _t([n,e])}function ur(t,e){return z(Oo(t),e)}class zo extends F{constructor({domain:e}){super(`Invalid domain "${D(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Fo extends F{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Uo extends F{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Ec(t){const{domain:e,message:n,primaryType:r,types:s}=t,o=(u,c)=>{const f={...c};for(const d of u){const{name:l,type:m}=d;m==="address"&&(f[l]=f[l].toLowerCase())}return f},i=s.EIP712Domain?e?o(s.EIP712Domain,e):{}:{},a=(()=>{if(r!=="EIP712Domain")return o(s[r],n)})();return D({domain:i,message:a,primaryType:r,types:s})}function qo(t){const{domain:e,message:n,primaryType:r,types:s}=t,o=(i,a)=>{for(const u of i){const{name:c,type:f}=u,d=a[c],l=f.match(Wr);if(l&&(typeof d=="number"||typeof d=="bigint")){const[p,h,E]=l;T(d,{signed:h==="int",size:Number.parseInt(E,10)/8})}if(f==="address"&&typeof d=="string"&&!On(d))throw new Hr({address:d});const m=f.match(Vr);if(m){const[p,h]=m;if(h&&Bt(d)!==Number.parseInt(h,10))throw new Gr({expectedSize:Number.parseInt(h,10),givenSize:Bt(d)})}const y=s[f];y&&(Mo(f),o(y,d))}};if(s.EIP712Domain&&e){if(typeof e!="object")throw new zo({domain:e});o(s.EIP712Domain,e)}if(r!=="EIP712Domain")if(s[r])o(s[r],n);else throw new Fo({primaryType:r,types:s})}function Lo({domain:t}){return[typeof t?.name=="string"&&{name:"name",type:"string"},t?.version&&{name:"version",type:"string"},(typeof t?.chainId=="number"||typeof t?.chainId=="bigint")&&{name:"chainId",type:"uint256"},t?.verifyingContract&&{name:"verifyingContract",type:"address"},t?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Mo(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new Uo({type:t})}function Do(t){const{domain:e={},message:n,primaryType:r}=t,s={EIP712Domain:Lo({domain:e}),...t.types};qo({domain:e,message:n,primaryType:r,types:s});const o=["0x1901"];return e&&o.push(jo({domain:e,types:s})),r!=="EIP712Domain"&&o.push(fr({data:n,primaryType:r,types:s})),z(_t(o))}function jo({domain:t,types:e}){return fr({data:t,primaryType:"EIP712Domain",types:e})}function fr({data:t,primaryType:e,types:n}){const r=dr({data:t,primaryType:e,types:n});return z(r)}function dr({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],s=[Wo({primaryType:e,types:n})];for(const o of n[e]){const[i,a]=hr({types:n,name:o.name,type:o.type,value:t[o.name]});r.push(i),s.push(a)}return we(r,s)}function Wo({primaryType:t,types:e}){const n=at(Ho({primaryType:t,types:e}));return z(n)}function Ho({primaryType:t,types:e}){let n="";const r=lr({primaryType:t,types:e});r.delete(t);const s=[t,...Array.from(r).sort()];for(const o of s)n+=`${o}(${e[o].map(({name:i,type:a})=>`${a} ${i}`).join(",")})`;return n}function lr({primaryType:t,types:e},n=new Set){const s=t.match(/^\w*/u)?.[0];if(n.has(s)||e[s]===void 0)return n;n.add(s);for(const o of e[s])lr({primaryType:o.type,types:e},n);return n}function hr({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},z(dr({data:r,primaryType:n,types:t}))];if(n==="bytes")return[{type:"bytes32"},z(r)];if(n==="string")return[{type:"bytes32"},z(at(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(i=>hr({name:e,type:s,types:t,value:i}));return[{type:"bytes32"},z(we(o.map(([i])=>i),o.map(([,i])=>i)))]}return[{type:n},r]}class Vo extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Go={checksum:new Vo(8192)},Yt=Go.checksum;function pr(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=Kr(Hs(t));return n==="Bytes"?r:K(r)}const Ko=/^0x[a-fA-F0-9]{40}$/;function jt(t,e={}){const{strict:n=!0}=e;if(!Ko.test(t))throw new un({address:t,cause:new Jo});if(n){if(t.toLowerCase()===t)return;if(mr(t)!==t)throw new un({address:t,cause:new Zo})}}function mr(t){if(Yt.has(t))return Yt.get(t);jt(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=pr(Gs(e),{as:"Bytes"}),r=e.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const s=`0x${r.join("")}`;return Yt.set(t,s),s}function ae(t,e={}){const{strict:n=!0}=e??{};try{return jt(t,{strict:n}),!0}catch{return!1}}class un extends N{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Jo extends N{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Zo extends N{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const Qo=/^(.*)\[([0-9]*)\]$/,Yo=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,yr=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,fn=2n**256n-1n;function rt(t,e,n){const{checksumAddress:r,staticPosition:s}=n,o=Oe(e.type);if(o){const[i,a]=o;return ti(t,{...e,type:a},{checksumAddress:r,length:i,staticPosition:s})}if(e.type==="tuple")return si(t,e,{checksumAddress:r,staticPosition:s});if(e.type==="address")return Xo(t,{checksum:r});if(e.type==="bool")return ei(t);if(e.type.startsWith("bytes"))return ni(t,e,{staticPosition:s});if(e.type.startsWith("uint")||e.type.startsWith("int"))return ri(t,e);if(e.type==="string")return oi(t,{staticPosition:s});throw new Fe(e.type)}const dn=32,ce=32;function Xo(t,e={}){const{checksum:n=!1}=e,r=t.readBytes(32);return[(o=>n?mr(o):o)(K(Js(r,-20))),32]}function ti(t,e,n){const{checksumAddress:r,length:s,staticPosition:o}=n;if(!s){const u=G(t.readBytes(ce)),c=o+u,f=c+dn;t.setPosition(c);const d=G(t.readBytes(dn)),l=wt(e);let m=0;const y=[];for(let p=0;p<d;++p){t.setPosition(f+(l?p*32:m));const[h,E]=rt(t,e,{checksumAddress:r,staticPosition:f});m+=E,y.push(h)}return t.setPosition(o+32),[y,32]}if(wt(e)){const u=G(t.readBytes(ce)),c=o+u,f=[];for(let d=0;d<s;++d){t.setPosition(c+d*32);const[l]=rt(t,e,{checksumAddress:r,staticPosition:c});f.push(l)}return t.setPosition(o+32),[f,32]}let i=0;const a=[];for(let u=0;u<s;++u){const[c,f]=rt(t,e,{checksumAddress:r,staticPosition:o+i});i+=f,a.push(c)}return[a,i]}function ei(t){return[Qs(t.readBytes(32),{size:32}),32]}function ni(t,e,{staticPosition:n}){const[r,s]=e.type.split("bytes");if(!s){const i=G(t.readBytes(32));t.setPosition(n+i);const a=G(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const u=t.readBytes(a);return t.setPosition(n+32),[K(u),32]}return[K(t.readBytes(Number.parseInt(s,10),32)),32]}function ri(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),s=t.readBytes(32);return[r>48?Zs(s,{signed:n}):G(s,{signed:n}),32]}function si(t,e,n){const{checksumAddress:r,staticPosition:s}=n,o=e.components.length===0||e.components.some(({name:u})=>!u),i=o?[]:{};let a=0;if(wt(e)){const u=G(t.readBytes(ce)),c=s+u;for(let f=0;f<e.components.length;++f){const d=e.components[f];t.setPosition(c+a);const[l,m]=rt(t,d,{checksumAddress:r,staticPosition:c});a+=m,i[o?f:d?.name]=l}return t.setPosition(s+32),[i,32]}for(let u=0;u<e.components.length;++u){const c=e.components[u],[f,d]=rt(t,c,{checksumAddress:r,staticPosition:s});i[o?u:c?.name]=f,a+=d}return[i,a]}function oi(t,{staticPosition:e}){const n=G(t.readBytes(32)),r=e+n;t.setPosition(r);const s=G(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const o=t.readBytes(s,32),i=Ys(Zn(o));return t.setPosition(e+32),[i,32]}function ii({checksumAddress:t,parameters:e,values:n}){const r=[];for(let s=0;s<e.length;s++)r.push(Te({checksumAddress:t,parameter:e[s],value:n[s]}));return r}function Te({checksumAddress:t=!1,parameter:e,value:n}){const r=e,s=Oe(r.type);if(s){const[o,i]=s;return ci(n,{checksumAddress:t,length:o,parameter:{...r,type:i}})}if(r.type==="tuple")return hi(n,{checksumAddress:t,parameter:r});if(r.type==="address")return ai(n,{checksum:t});if(r.type==="bool")return fi(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,i="256"]=yr.exec(r.type)??[];return di(n,{signed:o,size:Number(i)})}if(r.type.startsWith("bytes"))return ui(n,{type:r.type});if(r.type==="string")return li(n);throw new Fe(r.type)}function _e(t){let e=0;for(let o=0;o<t.length;o++){const{dynamic:i,encoded:a}=t[o];i?e+=32:e+=Z(a)}const n=[],r=[];let s=0;for(let o=0;o<t.length;o++){const{dynamic:i,encoded:a}=t[o];i?(n.push(ut(e+s,{size:32})),r.push(a),s+=Z(a)):n.push(a)}return L(...n,...r)}function ai(t,e){const{checksum:n=!1}=e;return jt(t,{strict:n}),{dynamic:!1,encoded:gt(t.toLowerCase())}}function ci(t,e){const{checksumAddress:n,length:r,parameter:s}=e,o=r===null;if(!Array.isArray(t))throw new Ei(t);if(!o&&t.length!==r)throw new Ii({expectedLength:r,givenLength:t.length,type:`${s.type}[${r}]`});let i=!1;const a=[];for(let u=0;u<t.length;u++){const c=Te({checksumAddress:n,parameter:s,value:t[u]});c.dynamic&&(i=!0),a.push(c)}if(o||i){const u=_e(a);if(o){const c=ut(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?L(c,u):c}}if(i)return{dynamic:!0,encoded:u}}return{dynamic:!1,encoded:L(...a.map(({encoded:u})=>u))}}function ui(t,{type:e}){const[,n]=e.split("bytes"),r=Z(t);if(!n){let s=t;return r%32!==0&&(s=st(s,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:L(gt(ut(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new br({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:st(t)}}function fi(t){if(typeof t!="boolean")throw new N(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:gt(zn(t))}}function di(t,{signed:e,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new Jr({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:ut(t,{size:32,signed:e})}}function li(t){const e=ve(t),n=Math.ceil(Z(e)/32),r=[];for(let s=0;s<n;s++)r.push(st(j(e,s*32,(s+1)*32)));return{dynamic:!0,encoded:L(st(ut(Z(e),{size:32})),...r)}}function hi(t,e){const{checksumAddress:n,parameter:r}=e;let s=!1;const o=[];for(let i=0;i<r.components.length;i++){const a=r.components[i],u=Array.isArray(t)?i:a.name,c=Te({checksumAddress:n,parameter:a,value:t[u]});o.push(c),c.dynamic&&(s=!0)}return{dynamic:s,encoded:s?_e(o):L(...o.map(({encoded:i})=>i))}}function Oe(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function wt(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(wt);const n=Oe(t.type);return!!(n&&wt({...t,type:n[1]}))}const pi={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new gi({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new yi({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new ln({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new ln({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function mi(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(pi);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}class ln extends N{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class yi extends N{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class gi extends N{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function bi(t,e,n={}){const{as:r="Array",checksumAddress:s=!1}=n,o=typeof e=="string"?Jn(e):e,i=mi(o);if(et(o)===0&&t.length>0)throw new vi;if(et(o)&&et(o)<32)throw new wi({data:typeof e=="string"?e:K(e),parameters:t,size:et(o)});let a=0;const u=r==="Array"?[]:{};for(let c=0;c<t.length;++c){const f=t[c];i.setPosition(a);const[d,l]=rt(i,f,{checksumAddress:s,staticPosition:0});a+=l,r==="Array"?u.push(d):u[f.name??c]=d}return u}function ze(t,e,n){const{checksumAddress:r=!1}={};if(t.length!==e.length)throw new wr({expectedLength:t.length,givenLength:e.length});const s=ii({checksumAddress:r,parameters:t,values:e}),o=_e(s);return o.length===0?"0x":o}function ue(t,e){if(t.length!==e.length)throw new wr({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const s=t[r],o=e[r];n.push(ue.encode(s,o))}return L(...n)}(function(t){function e(n,r,s=!1){if(n==="address"){const u=r;return jt(u),gt(u.toLowerCase(),s?32:0)}if(n==="string")return ve(r);if(n==="bytes")return r;if(n==="bool")return gt(zn(r),s?32:1);const o=n.match(yr);if(o){const[u,c,f="256"]=o,d=Number.parseInt(f,10)/8;return ut(r,{size:s?32:d,signed:c==="int"})}const i=n.match(Yo);if(i){const[u,c]=i;if(Number.parseInt(c,10)!==(r.length-2)/2)throw new br({expectedSize:Number.parseInt(c,10),value:r});return st(r,s?32:0)}const a=n.match(Qo);if(a&&Array.isArray(r)){const[u,c]=a,f=[];for(let d=0;d<r.length;d++)f.push(e(c,r[d],!0));return f.length===0?"0x":L(...f)}throw new Fe(n)}t.encode=e})(ue||(ue={}));function gr(t){return Array.isArray(t)&&typeof t[0]=="string"||typeof t=="string"?en(t):t}class wi extends N{constructor({data:e,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Zr(n)})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class vi extends N{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class Ii extends N{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class br extends N{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Z(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class wr extends N{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Ei extends N{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Fe extends N{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function vr(t,e={}){const{recovered:n}=e;if(typeof t.r>"u")throw new Xt({signature:t});if(typeof t.s>"u")throw new Xt({signature:t});if(n&&typeof t.yParity>"u")throw new Xt({signature:t});if(t.r<0n||t.r>fn)throw new Ni({value:t.r});if(t.s<0n||t.s>fn)throw new Bi({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new qe({value:t.yParity})}function Ci(t){return Ir(K(t))}function Ir(t){if(t.length!==130&&t.length!==132)throw new ki({signature:t});const e=BigInt(j(t,0,32)),n=BigInt(j(t,32,64)),r=(()=>{const s=+`0x${t.slice(130)}`;if(!Number.isNaN(s))try{return Ue(s)}catch{throw new qe({value:s})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function Ai(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return Pi(t)}function Pi(t){const e=typeof t=="string"?Ir(t):t instanceof Uint8Array?Ci(t):typeof t.r=="string"?Si(t):t.v?xi(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return vr(e),e}function xi(t){return{r:t.r,s:t.s,yParity:Ue(t.v)}}function Si(t){const e=(()=>{const n=t.v?Number(t.v):void 0;let r=t.yParity?Number(t.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=Ue(n)),typeof r!="number")throw new qe({value:t.yParity});return r})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function Ue(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new Ri({value:t})}class ki extends N{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Z(Yr(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class Xt extends N{constructor({signature:e}){super(`Signature \`${Qr(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class Ni extends N{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class Bi extends N{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class qe extends N{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class Ri extends N{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function $i(t,e={}){return typeof t.chainId=="string"?Ti(t):{...t,...e.signature}}function Ti(t){const{address:e,chainId:n,nonce:r}=t,s=Ai(t);return{address:e,chainId:Number(n),nonce:BigInt(r),...s}}const _i="0x8010801080108010801080108010801080108010801080108010801080108010",Oi=gr("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Er(t){if(typeof t=="string"){if(j(t,-32)!==_i)throw new Ui(t)}else vr(t.authorization)}function zi(t){Er(t);const e=An(j(t,-64,-32)),n=j(t,-e-64,-64),r=j(t,0,-e-64),[s,o,i]=bi(Oi,n);return{authorization:$i({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...i&&i!=="0x"?{data:i,to:o}:{}}}function Fi(t){try{return Er(t),!0}catch{return!1}}let Ui=class extends N{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function qi(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function Li(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?$n(t.nonce):void 0,storageProof:t.storageProof?qi(t.storageProof):void 0}}async function Mi(t,{address:e,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",i=n!==void 0?T(n):void 0,a=await t.request({method:"eth_getProof",params:[e,s,i||o]});return Li(a)}async function Di(t,{address:e,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?T(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,s,o||r]})}async function ji(t,{hash:e,transactionReceipt:n}){const[r,s]=await Promise.all([k(t,Ft,"getBlockNumber")({}),e?k(t,Fn,"getTransaction")({hash:e}):void 0]),o=n?.blockNumber||s?.blockNumber;return o?r-o+1n:0n}async function Cr(t,e){const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:o,blockOverrides:i,blockTag:a,stateOverride:u}=e,c=e.contracts,{batchSize:f=e.batchSize??1024,deployless:d=e.deployless??!1}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},l=(()=>{if(e.multicallAddress)return e.multicallAddress;if(d)return null;if(t.chain)return vt({blockNumber:o,chain:t.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),m=[[]];let y=0,p=0;for(let I=0;I<c.length;I++){const{abi:v,address:P,args:g,functionName:w}=c[I];try{const b=W({abi:v,args:g,functionName:w});p+=(b.length-2)/2,f>0&&p>f&&m[y].length>0&&(y++,p=(b.length-2)/2,m[y]=[]),m[y]=[...m[y],{allowFailure:!0,callData:b,target:P}]}catch(b){const C=ot(b,{abi:v,address:P,args:g,docsPath:"/docs/contract/multicall",functionName:w,sender:n});if(!s)throw C;m[y]=[...m[y],{allowFailure:!0,callData:"0x",target:P}]}}const h=await Promise.allSettled(m.map(I=>k(t,U,"readContract")({...l===null?{code:qn}:{address:l},abi:Un,account:n,args:[I],authorizationList:r,blockNumber:o,blockOverrides:i,blockTag:a,functionName:"aggregate3",stateOverride:u}))),E=[];for(let I=0;I<h.length;I++){const v=h[I];if(v.status==="rejected"){if(!s)throw v.reason;for(let g=0;g<m[I].length;g++)E.push({status:"failure",error:v.reason,result:void 0});continue}const P=v.value;for(let g=0;g<P.length;g++){const{returnData:w,success:b}=P[g],{callData:C}=m[I][g],{abi:A,address:S,functionName:B,args:R}=c[E.length];try{if(C==="0x")throw new Ln;if(!b)throw new Mn({data:w});const $=it({abi:A,args:R,data:w,functionName:B});E.push(s?{result:$,status:"success"}:$)}catch($){const O=ot($,{abi:A,address:S,args:R,docsPath:"/docs/contract/multicall",functionName:B});if(!s)throw O;E.push({error:O,result:void 0,status:"failure"})}}}if(E.length!==c.length)throw new F("multicall results mismatch");return E}async function fe(t,e){const{blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",blocks:s,returnFullTransactions:o,traceTransfers:i,validation:a}=e;try{const u=[];for(const l of s){const m=l.blockOverrides?Xr(l.blockOverrides):void 0,y=l.calls.map(h=>{const E=h,I=E.account?ct(E.account):void 0,v=E.abi?W(E):E.data,P={...E,account:I,data:E.dataSuffix?_t([v||"0x",E.dataSuffix]):v,from:E.from??I?.address};return Sn(P),kn(P)}),p=l.stateOverrides?ts(l.stateOverrides):void 0;u.push({blockOverrides:m,calls:y,stateOverrides:p})}const f=(typeof n=="bigint"?T(n):void 0)||r;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:u,returnFullTransactions:o,traceTransfers:i,validation:a},f]})).map((l,m)=>({...es(l),calls:l.calls.map((y,p)=>{const{abi:h,args:E,functionName:I,to:v}=s[m].calls[p],P=y.error?.data??y.returnData,g=BigInt(y.gasUsed),w=y.logs?.map(S=>J(S)),b=y.status==="0x1"?"success":"failure",C=h&&b==="success"&&P!=="0x"?it({abi:h,data:P,functionName:I}):null,A=(()=>{if(b==="success")return;let S;if(y.error?.data==="0x"?S=new Ln:y.error&&(S=new Mn(y.error)),!!S)return ot(S,{abi:h??[],address:v??"0x",args:E,functionName:I??"<unknown>"})})();return{data:P,gasUsed:g,logs:w,status:b,...b==="success"?{result:C}:{error:A}}})}))}catch(u){const c=u,f=ns(c,{});throw f instanceof rs?c:f}}function de(t){let e=!0,n="",r=0,s="",o=!1;for(let i=0;i<t.length;i++){const a=t[i];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){t[i-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=a,n+=a}}if(!o)throw new N("Unable to normalize signature.");return s}function le(t,e){const n=typeof t,r=e.type;switch(r){case"address":return ae(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,o)=>le(Object.values(t)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>le(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Ar(t,e,n){for(const r in t){const s=t[r],o=e[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Ar(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?ae(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?ae(n[r],{strict:!1}):!1)return i}}function Pr(t,e={}){const{prepare:n=!0}=e,r=Array.isArray(t)||typeof t=="string"?tn(t):t;return{...r,...n?{hash:nt(r)}:{}}}function Wt(t,e,n){const{args:r=[],prepare:s=!0}=n??{},o=ss(e,{strict:!1}),i=t.filter(c=>o?c.type==="function"||c.type==="error"?xr(c)===j(e,0,4):c.type==="event"?nt(c)===e:!1:"name"in c&&c.name===e);if(i.length===0)throw new Tt({name:e});if(i.length===1)return{...i[0],...s?{hash:nt(i[0])}:{}};let a;for(const c of i){if(!("inputs"in c))continue;if(!r||r.length===0){if(!c.inputs||c.inputs.length===0)return{...c,...s?{hash:nt(c)}:{}};continue}if(!c.inputs||c.inputs.length===0||c.inputs.length!==r.length)continue;if(r.every((d,l)=>{const m="inputs"in c&&c.inputs[l];return m?le(d,m):!1})){if(a&&"inputs"in a&&a.inputs){const d=Ar(c.inputs,a.inputs,r);if(d)throw new Hi({abiItem:c,type:d[0]},{abiItem:a,type:d[1]})}a=c}}const u=(()=>{if(a)return a;const[c,...f]=i;return{...c,overloads:f}})();if(!u)throw new Tt({name:e});return{...u,...s?{hash:nt(u)}:{}}}function xr(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return Wt(n,r)}return t[0]})();return j(nt(e),0,4)}function Wi(...t){const e=(()=>{if(Array.isArray(t[0])){const[r,s]=t;return Wt(r,s)}return t[0]})(),n=typeof e=="string"?e:se(e);return de(n)}function nt(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return Wt(n,r)}return t[0]})();return typeof e!="string"&&"hash"in e&&e.hash?e.hash:pr(ve(Wi(e)))}class Hi extends N{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${de(se(e.abiItem))}\`, and`,`\`${n.type}\` in \`${de(se(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Tt extends N{constructor({name:e,data:n,type:r="item"}){const s=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function Vi(...t){const[e,n]=(()=>{if(Array.isArray(t[0])){const[o,i]=t;return[Ki(o),i]}return t})(),{bytecode:r,args:s}=n;return L(r,e.inputs?.length&&s?.length?ze(e.inputs,s):"0x")}function Gi(t){return Pr(t)}function Ki(t){const e=t.find(n=>n.type==="constructor");if(!e)throw new Tt({name:"constructor"});return e}function Ji(...t){const[e,n=[]]=(()=>{if(Array.isArray(t[0])){const[c,f,d]=t;return[hn(c,f,{args:d}),d]}const[a,u]=t;return[a,u]})(),{overloads:r}=e,s=r?hn([e,...r],e.name,{args:n}):e,o=Zi(s),i=n.length>0?ze(s.inputs,n):void 0;return i?L(o,i):o}function Y(t,e={}){return Pr(t,e)}function hn(t,e,n){const r=Wt(t,e,n);if(r.type!=="function")throw new Tt({name:e,type:"function"});return r}function Zi(t){return xr(t)}const Qi="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",M="0x0000000000000000000000000000000000000000",Yi="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Xi(t,e){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:o,traceAssetChanges:i,traceTransfers:a,validation:u}=e,c=e.account?ct(e.account):void 0;if(i&&!c)throw new F("`account` is required when `traceAssetChanges` is true");const f=c?Vi(Gi("constructor(bytes, bytes)"),{bytecode:os,args:[Yi,Ji(Y("function getBalance(address)"),[c.address])]}):void 0,d=i?await Promise.all(e.calls.map(async x=>{if(!x.data&&!x.abi)return;const{accessList:_}=await nr(t,{account:c.address,...x,data:x.abi?W(x):x.data});return _.map(({address:dt,storageKeys:At})=>At.length>0?dt:null)})).then(x=>x.flat().filter(Boolean)):[],l=await fe(t,{blockNumber:n,blockTag:r,blocks:[...i?[{calls:[{data:f}],stateOverrides:o},{calls:d.map((x,_)=>({abi:[Y("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:x,from:M,nonce:_})),stateOverrides:[{address:M,nonce:0}]}]:[],{calls:[...s,{}].map(x=>({...x,from:c?.address})),stateOverrides:o},...i?[{calls:[{data:f}]},{calls:d.map((x,_)=>({abi:[Y("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:x,from:M,nonce:_})),stateOverrides:[{address:M,nonce:0}]},{calls:d.map((x,_)=>({to:x,abi:[Y("function decimals() returns (uint256)")],functionName:"decimals",from:M,nonce:_})),stateOverrides:[{address:M,nonce:0}]},{calls:d.map((x,_)=>({to:x,abi:[Y("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:M,nonce:_})),stateOverrides:[{address:M,nonce:0}]},{calls:d.map((x,_)=>({to:x,abi:[Y("function symbol() returns (string)")],functionName:"symbol",from:M,nonce:_})),stateOverrides:[{address:M,nonce:0}]}]:[]],traceTransfers:a,validation:u}),m=i?l[2]:l[0],[y,p,,h,E,I,v,P]=i?l:[],{calls:g,...w}=m,b=g.slice(0,-1)??[],C=y?.calls??[],A=p?.calls??[],S=[...C,...A].map(x=>x.status==="success"?Rt(x.data):null),B=h?.calls??[],R=E?.calls??[],$=[...B,...R].map(x=>x.status==="success"?Rt(x.data):null),O=(I?.calls??[]).map(x=>x.status==="success"?x.result:null),Me=(P?.calls??[]).map(x=>x.status==="success"?x.result:null),Gt=(v?.calls??[]).map(x=>x.status==="success"?x.result:null),Kt=[];for(const[x,_]of $.entries()){const dt=S[x];if(typeof _!="bigint"||typeof dt!="bigint")continue;const At=O[x-1],Br=Me[x-1],Rr=Gt[x-1],De=x===0?{address:Qi,decimals:18,symbol:"ETH"}:{address:d[x-1],decimals:Rr||At?Number(At??1):void 0,symbol:Br??void 0};Kt.some($r=>$r.token.address===De.address)||Kt.push({token:De,value:{pre:dt,post:_,diff:_-dt}})}return{assetChanges:Kt,block:w,results:b}}async function ta(t,e){const{abi:n,address:r,args:s,dataSuffix:o,functionName:i,...a}=e,u=a.account?ct(a.account):t.account,c=W({abi:n,args:s,functionName:i});try{const{data:f}=await k(t,Ot,"call")({batch:!1,data:`${c}${o?o.replace("0x",""):""}`,to:r,...a,account:u}),d=it({abi:n,args:s,functionName:i,data:f||"0x"}),l=n.filter(m=>"name"in m&&m.name===e.functionName);return{result:d,request:{abi:l,address:r,args:s,dataSuffix:o,functionName:i,...a,account:u}}}catch(f){throw ot(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:i,sender:u?.address})}}async function Ht(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}const Sr="0x6492649264926492649264926492649264926492649264926492649264926492";function ea(t){if(j(t,-32)!==Sr)throw new sa(t)}function na(t){const{data:e,signature:n,to:r}=t;return L(ze(gr("address, bytes, bytes"),[r,e,n]),Sr)}function ra(t){try{return ea(t),!0}catch{return!1}}class sa extends N{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function oa({r:t,s:e,to:n="hex",v:r,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new qs.Signature(Rt(t),Rt(e)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?i:is(i)}async function Vt(t,e){const{address:n,hash:r,erc6492VerifierAddress:s=e.universalSignatureVerifierAddress??t.chain?.contracts?.erc6492Verifier?.address,multicallAddress:o=e.multicallAddress??t.chain?.contracts?.multicall3?.address}=e,i=(()=>{const a=e.signature;return Cn(a)?a:typeof a=="object"&&"r"in a&&"s"in a?oa(a):mt(a)})();try{return Fi(i)?await ia(t,{...e,multicallAddress:o,signature:i}):await aa(t,{...e,verifierAddress:s,signature:i})}catch(a){try{if(Lt(tt(n),await as({hash:r,signature:i})))return!0}catch{}if(a instanceof Q)return!1;throw a}}async function ia(t,e){const{address:n,blockNumber:r,blockTag:s,hash:o,multicallAddress:i}=e,{authorization:a,data:u,signature:c,to:f}=zi(e.signature);if(await ie(t,{address:n,blockNumber:r,blockTag:s})===cs(["0xef0100",a.address]))return await ca(t,{address:n,blockNumber:r,blockTag:s,hash:o,signature:c});const l={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:T(a.r,{size:32}),s:T(a.s,{size:32}),yParity:a.yParity};if(!await Ro({address:n,authorization:l}))throw new Q;const y=await k(t,U,"readContract")({...i?{address:i}:{code:qn},authorizationList:[l],abi:Un,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...u?[{allowFailure:!0,target:f??n,callData:u}]:[],{allowFailure:!0,target:n,callData:W({abi:Dn,functionName:"isValidSignature",args:[o,c]})}]]});if(y[y.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new Q}async function aa(t,e){const{address:n,factory:r,factoryData:s,hash:o,signature:i,verifierAddress:a,...u}=e,c=await(async()=>!r&&!s||ra(i)?i:na({data:s,signature:i,to:r}))(),f=a?{to:a,data:W({abi:Ye,functionName:"isValidSig",args:[n,o,c]}),...u}:{data:us({abi:Ye,args:[n,o,c],bytecode:fs}),...u},{data:d}=await k(t,Ot,"call")(f).catch(l=>{throw l instanceof ds?new Q:l});if(ls(d??"0x0"))return!0;throw new Q}async function ca(t,e){const{address:n,blockNumber:r,blockTag:s,hash:o,signature:i}=e;if((await k(t,U,"readContract")({address:n,abi:Dn,args:[o,i],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(u=>{throw u instanceof jn?new Q:u})).startsWith("0x1626ba7e"))return!0;throw new Q}class Q extends Error{}async function ua(t,{address:e,message:n,factory:r,factoryData:s,signature:o,...i}){const a=ur(n);return k(t,Vt,"verifyHash")({address:e,factory:r,factoryData:s,hash:a,signature:o,...i})}async function fa(t,e){const{address:n,factory:r,factoryData:s,signature:o,message:i,primaryType:a,types:u,domain:c,...f}=e,d=Do({message:i,primaryType:a,types:u,domain:c});return k(t,Vt,"verifyHash")({address:n,factory:r,factoryData:s,hash:d,signature:o,...f})}function da(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:i,poll:a,pollingInterval:u=t.pollingInterval}){const c=typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),f=i??!1;let d;return c?(()=>{const y=D(["watchBlocks",t.uid,e,n,r,f,u]);return bt(y,{onBlock:s,onError:o},p=>Ut(async()=>{try{const h=await k(t,ht,"getBlock")({blockTag:e,includeTransactions:f});if(h.number!==null&&d?.number!=null){if(h.number===d.number)return;if(h.number-d.number>1&&n)for(let E=d?.number+1n;E<h.number;E++){const I=await k(t,ht,"getBlock")({blockNumber:E,includeTransactions:f});p.onBlock(I,d),d=I}}(d?.number==null||e==="pending"&&h?.number==null||h.number!==null&&h.number>d.number)&&(p.onBlock(h,d),d=h)}catch(h){p.onError?.(h)}},{emitOnBegin:r,interval:u}))})():(()=>{let y=!0,p=!0,h=()=>y=!1;return(async()=>{try{r&&k(t,ht,"getBlock")({blockTag:e,includeTransactions:f}).then(v=>{y&&p&&(s(v,void 0),p=!1)}).catch(o);const E=(()=>{if(t.transport.type==="fallback"){const v=t.transport.transports.find(P=>P.config.type==="webSocket"||P.config.type==="ipc");return v?v.value:t.transport}return t.transport})(),{unsubscribe:I}=await E.subscribe({params:["newHeads"],async onData(v){if(!y)return;const P=await k(t,ht,"getBlock")({blockNumber:v.result?.number,includeTransactions:f}).catch(()=>{});y&&(s(P,d),p=!1,d=P)},onError(v){o?.(v)}});h=I,y||h()}catch(E){o?.(E)}})(),()=>h()})()}function la(t,e){const{abi:n,address:r,args:s,batch:o=!0,eventName:i,fromBlock:a,onError:u,onLogs:c,poll:f,pollingInterval:d=t.pollingInterval,strict:l}=e;return(typeof f<"u"?f:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{const h=l??!1,E=D(["watchContractEvent",r,s,o,t.uid,i,d,h,a]);return bt(E,{onLogs:c,onError:u},I=>{let v;a!==void 0&&(v=a-1n);let P,g=!1;const w=Ut(async()=>{if(!g){try{P=await k(t,rr,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:h,fromBlock:a})}catch{}g=!0;return}try{let b;if(P)b=await k(t,Dt,"getFilterChanges")({filter:P});else{const C=await k(t,Ft,"getBlockNumber")({});v&&v<C?b=await k(t,ar,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:v+1n,toBlock:C,strict:h}):b=[],v=C}if(b.length===0)return;if(o)I.onLogs(b);else for(const C of b)I.onLogs([C])}catch(b){P&&b instanceof Wn&&(g=!1),I.onError?.(b)}},{emitOnBegin:!0,interval:d});return async()=>{P&&await k(t,Ht,"uninstallFilter")({filter:P}),w()}})})():(()=>{const h=l??!1,E=D(["watchContractEvent",r,s,o,t.uid,i,d,h]);let I=!0,v=()=>I=!1;return bt(E,{onLogs:c,onError:u},P=>((async()=>{try{const g=(()=>{if(t.transport.type==="fallback"){const C=t.transport.transports.find(A=>A.config.type==="webSocket"||A.config.type==="ipc");return C?C.value:t.transport}return t.transport})(),w=i?Ct({abi:n,eventName:i,args:s}):[],{unsubscribe:b}=await g.subscribe({params:["logs",{address:r,topics:w}],onData(C){if(!I)return;const A=C.result;try{const{eventName:S,args:B}=Be({abi:n,data:A.data,topics:A.topics,strict:l}),R=J(A,{args:B,eventName:S});P.onLogs([R])}catch(S){let B,R;if(S instanceof yt||S instanceof zt){if(l)return;B=S.abiItem.name,R=S.abiItem.inputs?.some(O=>!("name"in O&&O.name))}const $=J(A,{args:R?[]:{},eventName:B});P.onLogs([$])}},onError(C){P.onError?.(C)}});v=b,I||v()}catch(g){u?.(g)}})(),()=>v()))})()}function ha(t,{address:e,args:n,batch:r=!0,event:s,events:o,fromBlock:i,onError:a,onLogs:u,poll:c,pollingInterval:f=t.pollingInterval,strict:d}){const l=typeof c<"u"?c:typeof i=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),m=d??!1;return l?(()=>{const h=D(["watchEvent",e,n,r,t.uid,s,f,i]);return bt(h,{onLogs:u,onError:a},E=>{let I;i!==void 0&&(I=i-1n);let v,P=!1;const g=Ut(async()=>{if(!P){try{v=await k(t,sr,"createEventFilter")({address:e,args:n,event:s,events:o,strict:m,fromBlock:i})}catch{}P=!0;return}try{let w;if(v)w=await k(t,Dt,"getFilterChanges")({filter:v});else{const b=await k(t,Ft,"getBlockNumber")({});I&&I!==b?w=await k(t,$e,"getLogs")({address:e,args:n,event:s,events:o,fromBlock:I+1n,toBlock:b}):w=[],I=b}if(w.length===0)return;if(r)E.onLogs(w);else for(const b of w)E.onLogs([b])}catch(w){v&&w instanceof Wn&&(P=!1),E.onError?.(w)}},{emitOnBegin:!0,interval:f});return async()=>{v&&await k(t,Ht,"uninstallFilter")({filter:v}),g()}})})():(()=>{let h=!0,E=()=>h=!1;return(async()=>{try{const I=(()=>{if(t.transport.type==="fallback"){const w=t.transport.transports.find(b=>b.config.type==="webSocket"||b.config.type==="ipc");return w?w.value:t.transport}return t.transport})(),v=o??(s?[s]:void 0);let P=[];v&&(P=[v.flatMap(b=>Ct({abi:[b],eventName:b.name,args:n}))],s&&(P=P[0]));const{unsubscribe:g}=await I.subscribe({params:["logs",{address:e,topics:P}],onData(w){if(!h)return;const b=w.result;try{const{eventName:C,args:A}=Be({abi:v??[],data:b.data,topics:b.topics,strict:m}),S=J(b,{args:A,eventName:C});u([S])}catch(C){let A,S;if(C instanceof yt||C instanceof zt){if(d)return;A=C.abiItem.name,S=C.abiItem.inputs?.some(R=>!("name"in R&&R.name))}const B=J(b,{args:S?[]:{},eventName:A});u([B])}},onError(w){a?.(w)}});E=g,h||E()}catch(I){a?.(I)}})(),()=>E()})()}function pa(t,{batch:e=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const c=D(["watchPendingTransactions",t.uid,e,o]);return bt(c,{onTransactions:r,onError:n},f=>{let d;const l=Ut(async()=>{try{if(!d)try{d=await k(t,or,"createPendingTransactionFilter")({});return}catch(y){throw l(),y}const m=await k(t,Dt,"getFilterChanges")({filter:d});if(m.length===0)return;if(e)f.onTransactions(m);else for(const y of m)f.onTransactions([y])}catch(m){f.onError?.(m)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await k(t,Ht,"uninstallFilter")({filter:d}),l()}})})():(()=>{let c=!0,f=()=>c=!1;return(async()=>{try{const{unsubscribe:d}=await t.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!c)return;const m=l.result;r([m])},onError(l){n?.(l)}});f=d,c||f()}catch(d){n?.(d)}})(),()=>f()})()}async function ma(t,{serializedTransaction:e,throwOnReceiptRevert:n,timeout:r}){const s=await t.request({method:"eth_sendRawTransactionSync",params:r?[e,T(r)]:[e]},{retryCount:0}),i=(t.chain?.formatters?.transactionReceipt?.format||hs)(s);if(i.status==="reverted"&&n)throw new ps({receipt:i});return i}async function ya(t,{account:e=t.account,message:n}){if(!e)throw new ms({docsPath:"/docs/actions/wallet/signMessage"});const r=ct(e);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?re(n):n.raw instanceof Uint8Array?at(n.raw):n.raw;return t.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function ga(t,e){let n;if(typeof e.connector=="function"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new ys;try{t.setState(i=>({...i,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:r,...s}=e,o=await n.connect(s);return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await t.storage?.setItem("recentConnectorId",n.id),t.setState(i=>({...i,connections:new Map(i.connections).set(n.uid,{accounts:s.withCapabilities?o.accounts.map(a=>typeof a=="object"?a.address:a):o.accounts,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:s.withCapabilities?o.accounts.map(i=>typeof i=="object"?i:{address:i,capabilities:{}}):o.accounts,chainId:o.chainId}}catch(r){throw t.setState(s=>({...s,status:s.current?"connected":"disconnected"})),r}}function ba(t){const{scheme:e,statement:n,...r}=t.match(wa)?.groups??{},{chainId:s,expirationTime:o,issuedAt:i,notBefore:a,requestId:u,...c}=t.match(va)?.groups??{},f=t.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...c,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...a?{notBefore:new Date(a)}:{},...u?{requestId:u}:{},...f?{resources:f}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const wa=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,va=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Ia(t){const{address:e,domain:n,message:r,nonce:s,scheme:o,time:i=new Date}=t;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||!On(r.address,{strict:!1})||e&&!Lt(r.address,e))return!1}catch{return!1}return!0}async function Ea(t,e){const{address:n,domain:r,message:s,nonce:o,scheme:i,signature:a,time:u=new Date,...c}=e,f=ba(s);if(!f.address||!Ia({address:n,domain:r,message:f,nonce:o,scheme:i,time:u}))return!1;const l=ur(s);return Vt(t,{address:f.address,hash:l,signature:a,...c})}function Ca(t){return{call:e=>Ot(t,e),createAccessList:e=>nr(t,e),createBlockFilter:()=>bo(t),createContractEventFilter:e=>rr(t,e),createEventFilter:e=>sr(t,e),createPendingTransactionFilter:()=>or(t),estimateContractGas:e=>vo(t,e),estimateGas:e=>Rn(t,e),getBalance:e=>ir(t,e),getBlobBaseFee:()=>Io(t),getBlock:e=>ht(t,e),getBlockNumber:e=>Ft(t,e),getBlockTransactionCount:e=>Eo(t,e),getBytecode:e=>ie(t,e),getChainId:()=>Ss(t),getCode:e=>ie(t,e),getContractEvents:e=>ar(t,e),getEip712Domain:e=>xo(t,e),getEnsAddress:e=>ro(t,e),getEnsAvatar:e=>tr(t,e),getEnsName:e=>er(t,e),getEnsResolver:e=>go(t,e),getEnsText:e=>Xn(t,e),getFeeHistory:e=>No(t,e),estimateFeesPerGas:e=>xs(t,e),getFilterChanges:e=>Dt(t,e),getFilterLogs:e=>Bo(t,e),getGasPrice:()=>Ps(t),getLogs:e=>$e(t,e),getProof:e=>Mi(t,e),estimateMaxPriorityFeePerGas:e=>As(t,e),fillTransaction:e=>Cs(t,e),getStorageAt:e=>Di(t,e),getTransaction:e=>Fn(t,e),getTransactionConfirmations:e=>ji(t,e),getTransactionCount:e=>Es(t,e),getTransactionReceipt:e=>Is(t,e),multicall:e=>Cr(t,e),prepareTransactionRequest:e=>vs(t,e),readContract:e=>U(t,e),sendRawTransaction:e=>ws(t,e),sendRawTransactionSync:e=>ma(t,e),simulate:e=>fe(t,e),simulateBlocks:e=>fe(t,e),simulateCalls:e=>Xi(t,e),simulateContract:e=>ta(t,e),verifyHash:e=>Vt(t,e),verifyMessage:e=>ua(t,e),verifySiweMessage:e=>Ea(t,e),verifyTypedData:e=>fa(t,e),uninstallFilter:e=>Ht(t,e),waitForTransactionReceipt:e=>bs(t,e),watchBlocks:e=>da(t,e),watchBlockNumber:e=>gs(t,e),watchContractEvent:e=>la(t,e),watchEvent:e=>ha(t,e),watchPendingTransactions:e=>pa(t,e)}}class Aa extends F{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Ac(t,e={}){const{batch:n,fetchFn:r,fetchOptions:s,key:o="http",methods:i,name:a="HTTP JSON-RPC",onFetchRequest:u,onFetchResponse:c,retryDelay:f,raw:d}=e;return({chain:l,retryCount:m,timeout:y})=>{const{batchSize:p=1e3,wait:h=0}=typeof n=="object"?n:{},E=e.retryCount??m,I=y??e.timeout??1e4,v=t||l?.rpcUrls.default.http[0];if(!v)throw new Aa;const P=To(v,{fetchFn:r,fetchOptions:s,onRequest:u,onResponse:c,timeout:I});return ks({key:o,methods:i,name:a,async request({method:g,params:w}){const b={method:g,params:w},{schedule:C}=Ns({id:v,wait:h,shouldSplitBatch(R){return R.length>p},fn:R=>P.request({body:R}),sort:(R,$)=>R.id-$.id}),A=async R=>n?C(R):[await P.request({body:R})],[{error:S,result:B}]=await A(b);if(d)return{error:S,result:B};if(S)throw new Bs({body:b,error:S,url:v});return B},retryCount:E,retryDelay:f,timeout:I,type:"http"},{fetchOptions:s,url:v})}}async function Pa(t,e={}){let n;if(e.connector)n=e.connector;else{const{connections:s,current:o}=t.state;n=s.get(o)?.connector}const r=t.state.connections;n&&(await n.disconnect(),n.emitter.off("change",t._internal.events.change),n.emitter.off("disconnect",t._internal.events.disconnect),n.emitter.on("connect",t._internal.events.connect),r.delete(n.uid)),t.setState(s=>{if(r.size===0)return{...s,connections:new Map,current:null,status:"disconnected"};const o=r.values().next().value;return{...s,connections:new Map(r),current:o.connector.uid}});{const s=t.state.current;if(!s)return;const o=t.state.connections.get(s)?.connector;if(!o)return;await t.storage?.setItem("recentConnectorId",o.id)}}function kr(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(Rs[t])}async function xa(t,e){const{allowFailure:n=!0,chainId:r,contracts:s,...o}=e,i=t.getClient({chainId:r});return ft(i,Cr,"multicall")({allowFailure:n,contracts:s,...o})}function Sa(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return ft(s,U,"readContract")(r)}async function ka(t,e){const{allowFailure:n=!0,blockNumber:r,blockTag:s,...o}=e,i=e.contracts;try{const a={};for(const[d,l]of i.entries()){const m=l.chainId??t.state.chainId;a[m]||(a[m]=[]),a[m]?.push({contract:l,index:d})}const u=()=>Object.entries(a).map(([d,l])=>xa(t,{...o,allowFailure:n,blockNumber:r,blockTag:s,chainId:Number.parseInt(d,10),contracts:l.map(({contract:m})=>m)})),c=(await Promise.all(u())).flat(),f=Object.values(a).flatMap(d=>d.map(({index:l})=>l));return c.reduce((d,l,m)=>(d&&(d[f[m]]=l),d),[])}catch(a){if(a instanceof jn)throw a;const u=()=>i.map(c=>Sa(t,{...c,blockNumber:r,blockTag:s}));return n?(await Promise.allSettled(u())).map(c=>c.status==="fulfilled"?{result:c.value,status:"success"}:{error:c.reason,result:void 0,status:"failure"}):await Promise.all(u())}}async function Na(t,e){const{address:n,blockNumber:r,blockTag:s,chainId:o,token:i,unit:a="ether"}=e;if(i)try{return await pn(t,{balanceAddress:n,chainId:o,symbolType:"string",tokenAddress:i})}catch(l){if(l.name==="ContractFunctionExecutionError"){const m=await pn(t,{balanceAddress:n,chainId:o,symbolType:"bytes32",tokenAddress:i}),y=$s(xn(m.symbol,{dir:"right"}));return{...m,symbol:y}}throw l}const u=t.getClient({chainId:o}),f=await ft(u,ir,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:s}),d=t.chains.find(l=>l.id===o)??u.chain;return{decimals:d.nativeCurrency.decimals,formatted:Hn(f,kr(a)),symbol:d.nativeCurrency.symbol,value:f}}async function pn(t,e){const{balanceAddress:n,chainId:r,symbolType:s,tokenAddress:o,unit:i}=e,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:s}]}],address:o},[u,c,f]=await ka(t,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[n],chainId:r},{...a,functionName:"decimals",chainId:r},{...a,functionName:"symbol",chainId:r}]}),d=Hn(u??"0",kr(i??c));return{decimals:c,formatted:d,symbol:f,value:u}}let te=[];function mn(t){const e=t.chains;return Ie(te,e)?te:(te=e,e)}function Ba(t,e={}){try{return t.getClient(e)}catch{return}}let Pt=[];function he(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||Ie(Pt,e)?Pt:(Pt=e,e)}let xt=[];function yn(t){const e=t.connectors;return xt.length===e.length&&xt.every((n,r)=>n===e[r])?xt:(xt=e,e)}function Ra(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return ft(s,tr,"getEnsAvatar")(r)}function $a(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return ft(s,er,"getEnsName")(r)}function pe(t,e={}){return Ba(t,e)?.extend(Ca)}async function Ta(t,e){const{account:n,connector:r,...s}=e;let o;return typeof n=="object"&&n.type==="local"?o=t.getClient():o=await Ts(t,{account:n,connector:r}),ft(o,ya,"signMessage")({...s,...n?{account:n}:{}})}class X extends Vn{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class _a extends Vn{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function Oa(t,e){const{addEthereumChainParameter:n,chainId:r}=e,s=t.state.connections.get(e.connector?.uid??t.state.current);if(s){const i=s.connector;if(!i.switchChain)throw new _a({connector:i});return await i.switchChain({addEthereumChainParameter:n,chainId:r})}const o=t.chains.find(i=>i.id===r);if(!o)throw new $t;return t.setState(i=>({...i,chainId:r})),o}function za(t,e){const{onChange:n}=e;return t.subscribe(()=>he(t),n,{equalityFn:Ie})}function Fa(t,e){const{onChange:n}=e;return t._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}function Ua(t,e){const{onChange:n}=e;return t.subscribe(()=>pe(t),n,{equalityFn(r,s){return r?.uid===s?.uid}})}function Pc(t){return t}Le.type="injected";function Le(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const u=t.target;if(typeof u=="function"){const c=u();if(c)return c}return typeof u=="object"?u:typeof u=="string"?{...qa[u]??{id:u,name:`${u[0].toUpperCase()}${u.slice(1)}`,provider:`is${u[0].toUpperCase()}${u.slice(1)}`}}:{id:"injected",name:"Injected",provider(c){return c?.ethereum}}}let s,o,i,a;return u=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:Le.type,async setup(){const c=await this.getProvider();c?.on&&t.target&&(i||(i=this.onConnect.bind(this),c.on("connect",i)),s||(s=this.onAccountsChanged.bind(this),c.on("accountsChanged",s)))},async connect({chainId:c,isReconnecting:f,withCapabilities:d}={}){const l=await this.getProvider();if(!l)throw new X;let m=[];if(f)m=await this.getAccounts().catch(()=>[]);else if(e)try{m=(await l.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0]?.caveats?.[0]?.value?.map(p=>tt(p)),m.length>0&&(m=await this.getAccounts())}catch(y){const p=y;if(p.code===H.code)throw new H(p);if(p.code===Zt.code)throw p}try{!m?.length&&!f&&(m=(await l.request({method:"eth_requestAccounts"})).map(h=>tt(h))),i&&(l.removeListener("connect",i),i=void 0),s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),l.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),l.on("disconnect",a));let y=await this.getChainId();return c&&y!==c&&(y=(await this.switchChain({chainId:c}).catch(h=>{if(h.code===H.code)throw h;return{id:y}}))?.id??y),e&&await u.storage?.removeItem(`${this.id}.disconnected`),t.target||await u.storage?.setItem("injected.connected",!0),{accounts:d?m.map(p=>({address:p,capabilities:{}})):m,chainId:y}}catch(y){const p=y;throw p.code===H.code?new H(p):p.code===Zt.code?new Zt(p):p}},async disconnect(){const c=await this.getProvider();if(!c)throw new X;o&&(c.removeListener("chainChanged",o),o=void 0),a&&(c.removeListener("disconnect",a),a=void 0),i||(i=this.onConnect.bind(this),c.on("connect",i));try{await cr(()=>c.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await u.storage?.setItem(`${this.id}.disconnected`,!0),t.target||await u.storage?.removeItem("injected.connected")},async getAccounts(){const c=await this.getProvider();if(!c)throw new X;return(await c.request({method:"eth_accounts"})).map(d=>tt(d))},async getChainId(){const c=await this.getProvider();if(!c)throw new X;const f=await c.request({method:"eth_chainId"});return Number(f)},async getProvider(){if(typeof window>"u")return;let c;const f=r();return typeof f.provider=="function"?c=f.provider(window):typeof f.provider=="string"?c=Nt(window,f.provider):c=f.provider,c&&!c.removeListener&&("off"in c&&typeof c.off=="function"?c.removeListener=c.off:c.removeListener=()=>{}),c},async isAuthorized(){try{if(e&&await u.storage?.getItem(`${this.id}.disconnected`)||!t.target&&!await u.storage?.getItem("injected.connected"))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const l=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",l),!!await this.getProvider()),m=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(p=>window.addEventListener("ethereum#initialized",()=>p(l()),{once:!0}))]:[],new Promise(p=>setTimeout(()=>p(l()),m))]))return!0}throw new X}return!!(await _s(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:c,chainId:f}){const d=await this.getProvider();if(!d)throw new X;const l=u.chains.find(y=>y.id===f);if(!l)throw new Xe(new $t);const m=new Promise(y=>{const p=(h=>{"chainId"in h&&h.chainId===f&&(u.emitter.off("change",p),y())});u.emitter.on("change",p)});try{return await Promise.all([d.request({method:"wallet_switchEthereumChain",params:[{chainId:T(f)}]}).then(async()=>{await this.getChainId()===f&&u.emitter.emit("change",{chainId:f})}),m]),l}catch(y){const p=y;if(p.code===4902||p?.data?.originalError?.code===4902)try{const{default:h,...E}=l.blockExplorers??{};let I;c?.blockExplorerUrls?I=c.blockExplorerUrls:h&&(I=[h.url,...Object.values(E).map(g=>g.url)]);let v;c?.rpcUrls?.length?v=c.rpcUrls:v=[l.rpcUrls.default?.http[0]??""];const P={blockExplorerUrls:I,chainId:T(f),chainName:c?.chainName??l.name,iconUrls:c?.iconUrls,nativeCurrency:c?.nativeCurrency??l.nativeCurrency,rpcUrls:v};return await Promise.all([d.request({method:"wallet_addEthereumChain",params:[P]}).then(async()=>{if(await this.getChainId()===f)u.emitter.emit("change",{chainId:f});else throw new H(new Error("User rejected switch after adding network."))}),m]),l}catch(h){throw new H(h)}throw p.code===H.code?new H(p):new Xe(p)}},async onAccountsChanged(c){if(c.length===0)this.onDisconnect();else if(u.emitter.listenerCount("connect")){const f=(await this.getChainId()).toString();this.onConnect({chainId:f}),e&&await u.storage?.removeItem(`${this.id}.disconnected`)}else u.emitter.emit("change",{accounts:c.map(f=>tt(f))})},onChainChanged(c){const f=Number(c);u.emitter.emit("change",{chainId:f})},async onConnect(c){const f=await this.getAccounts();if(f.length===0)return;const d=Number(c.chainId);u.emitter.emit("connect",{accounts:f,chainId:d});const l=await this.getProvider();l&&(i&&(l.removeListener("connect",i),i=void 0),s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),l.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),l.on("disconnect",a)))},async onDisconnect(c){const f=await this.getProvider();c&&c.code===1013&&f&&(await this.getAccounts()).length||(u.emitter.emit("disconnect"),f&&(o&&(f.removeListener("chainChanged",o),o=void 0),a&&(f.removeListener("disconnect",a),a=void 0),i||(i=this.onConnect.bind(this),f.on("connect",i))))}})}const qa={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t?.coinbaseWalletExtension?t.coinbaseWalletExtension:Nt(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return Nt(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){return t?.phantom?.ethereum?t.phantom?.ethereum:Nt(t,"isPhantom")}}};function Nt(t,e){function n(s){return typeof e=="function"?e(s):typeof e=="string"?s[e]:!0}const r=t.ethereum;if(r?.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function La(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function Ma(){const t=new Set;let e=[];const n=()=>La(s=>{e.some(({info:o})=>o.uuid===s.info.uuid)||(e=[...e,s],t.forEach(o=>o(e,{added:[s]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(s=>s([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r?.()},findProvider({rdns:s}){return e.find(o=>o.info.rdns===s)},getProviders(){return e},reset(){this.clear(),r?.(),r=n()},subscribe(s,{emitImmediately:o}={}){return t.add(s),o&&s(e,{added:e}),()=>t.delete(s)}}}const Da=t=>(e,n,r)=>{const s=r.subscribe;return r.subscribe=(i,a,u)=>{let c=i;if(a){const f=u?.equalityFn||Object.is;let d=i(r.getState());c=l=>{const m=i(l);if(!f(d,m)){const y=d;a(d=m,y)}},u?.fireImmediately&&a(d,d)}return s(c)},t(e,n,r)},ja=Da;function Wa(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var o;const i=u=>u===null?null:JSON.parse(u,void 0),a=(o=n.getItem(s))!=null?o:null;return a instanceof Promise?a.then(i):i(a)},setItem:(s,o)=>n.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>n.removeItem(s)}}const me=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return me(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return me(r)(n)}}}},Ha=(t,e)=>(n,r,s)=>{let o={storage:Wa(()=>localStorage),partialize:p=>p,version:0,merge:(p,h)=>({...h,...p}),...e},i=!1;const a=new Set,u=new Set;let c=o.storage;if(!c)return t((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...p)},r,s);const f=()=>{const p=o.partialize({...r()});return c.setItem(o.name,{state:p,version:o.version})},d=s.setState;s.setState=(p,h)=>{d(p,h),f()};const l=t((...p)=>{n(...p),f()},r,s);s.getInitialState=()=>l;let m;const y=()=>{var p,h;if(!c)return;i=!1,a.forEach(I=>{var v;return I((v=r())!=null?v:l)});const E=((h=o.onRehydrateStorage)==null?void 0:h.call(o,(p=r())!=null?p:l))||void 0;return me(c.getItem.bind(c))(o.name).then(I=>{if(I)if(typeof I.version=="number"&&I.version!==o.version){if(o.migrate)return[!0,o.migrate(I.state,I.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,I.state];return[!1,void 0]}).then(I=>{var v;const[P,g]=I;if(m=o.merge(g,(v=r())!=null?v:l),n(m,!0),P)return f()}).then(()=>{E?.(m,void 0),m=r(),i=!0,u.forEach(I=>I(m))}).catch(I=>{E?.(void 0,I)})};return s.persist={setOptions:p=>{o={...o,...p},p.storage&&(c=p.storage)},clearStorage:()=>{c?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>y(),hasHydrated:()=>i,onHydrate:p=>(a.add(p),()=>{a.delete(p)}),onFinishHydration:p=>(u.add(p),()=>{u.delete(p)})},o.skipHydration||y(),m||l},Va=Ha,gn=t=>{let e;const n=new Set,r=(c,f)=>{const d=typeof c=="function"?c(e):c;if(!Object.is(d,e)){const l=e;e=f??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(m=>m(e,l))}},s=()=>e,a={setState:r,getState:s,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c))},u=e=t(r,s,a);return a},ee=t=>t?gn(t):gn;var ne={exports:{}},bn;function Ga(){return bn||(bn=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(u,c,f){this.fn=u,this.context=c,this.once=f||!1}function o(u,c,f,d,l){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new s(f,d||u,l),y=n?n+c:c;return u._events[y]?u._events[y].fn?u._events[y]=[u._events[y],m]:u._events[y].push(m):(u._events[y]=m,u._eventsCount++),u}function i(u,c){--u._eventsCount===0?u._events=new r:delete u._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],f,d;if(this._eventsCount===0)return c;for(d in f=this._events)e.call(f,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},a.prototype.listeners=function(c){var f=n?n+c:c,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var l=0,m=d.length,y=new Array(m);l<m;l++)y[l]=d[l].fn;return y},a.prototype.listenerCount=function(c){var f=n?n+c:c,d=this._events[f];return d?d.fn?1:d.length:0},a.prototype.emit=function(c,f,d,l,m,y){var p=n?n+c:c;if(!this._events[p])return!1;var h=this._events[p],E=arguments.length,I,v;if(h.fn){switch(h.once&&this.removeListener(c,h.fn,void 0,!0),E){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,f),!0;case 3:return h.fn.call(h.context,f,d),!0;case 4:return h.fn.call(h.context,f,d,l),!0;case 5:return h.fn.call(h.context,f,d,l,m),!0;case 6:return h.fn.call(h.context,f,d,l,m,y),!0}for(v=1,I=new Array(E-1);v<E;v++)I[v-1]=arguments[v];h.fn.apply(h.context,I)}else{var P=h.length,g;for(v=0;v<P;v++)switch(h[v].once&&this.removeListener(c,h[v].fn,void 0,!0),E){case 1:h[v].fn.call(h[v].context);break;case 2:h[v].fn.call(h[v].context,f);break;case 3:h[v].fn.call(h[v].context,f,d);break;case 4:h[v].fn.call(h[v].context,f,d,l);break;default:if(!I)for(g=1,I=new Array(E-1);g<E;g++)I[g-1]=arguments[g];h[v].fn.apply(h[v].context,I)}}return!0},a.prototype.on=function(c,f,d){return o(this,c,f,d,!1)},a.prototype.once=function(c,f,d){return o(this,c,f,d,!0)},a.prototype.removeListener=function(c,f,d,l){var m=n?n+c:c;if(!this._events[m])return this;if(!f)return i(this,m),this;var y=this._events[m];if(y.fn)y.fn===f&&(!l||y.once)&&(!d||y.context===d)&&i(this,m);else{for(var p=0,h=[],E=y.length;p<E;p++)(y[p].fn!==f||l&&!y[p].once||d&&y[p].context!==d)&&h.push(y[p]);h.length?this._events[m]=h.length===1?h[0]:h:i(this,m)}return this},a.prototype.removeAllListeners=function(c){var f;return c?(f=n?n+c:c,this._events[f]&&i(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(ne)),ne.exports}var Ka=Ga();const Ja=Us(Ka);class Za{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new Ja})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function Qa(t){return new Za(t)}function Ya(t,e){return JSON.parse(t,(n,r)=>{let s=r;return s?.__type==="bigint"&&(s=BigInt(s.value)),s?.__type==="Map"&&(s=new Map(s.value)),e?.(n,s)??s})}function wn(t,e){return t.slice(0,e).join(".")||"."}function vn(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function Xa(t,e){const n=typeof t=="function",r=typeof e=="function",s=[],o=[];return function(a,u){if(typeof u=="object")if(s.length){const c=vn(s,this);c===0?s[s.length]=this:(s.splice(c),o.splice(c)),o[o.length]=a;const f=vn(s,u);if(f!==0)return r?e.call(this,a,u,wn(o,f)):`[ref=${wn(o,f)}]`}else s[0]=u,o[0]=a;return n?t.call(this,a,u):u}}function tc(t,e,n,r){return JSON.stringify(t,Xa((s,o)=>{let i=o;return typeof i=="bigint"&&(i={__type:"bigint",value:o.toString()}),i instanceof Map&&(i={__type:"Map",value:Array.from(o.entries())}),e?.(s,i)??i},r),n??void 0)}function ec(t){const{deserialize:e=Ya,key:n="wagmi",serialize:r=tc,storage:s=Nr}=t;function o(i){return i instanceof Promise?i.then(a=>a).catch(()=>null):i}return{...s,key:n,async getItem(i,a){const u=s.getItem(`${n}.${i}`),c=await o(u);return c?e(c)??null:a??null},async setItem(i,a){const u=`${n}.${i}`;a===null?await o(s.removeItem(u)):await o(s.setItem(u,r(a)))},async removeItem(i){await o(s.removeItem(`${n}.${i}`))}}}const Nr={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function nc(){const t=typeof window<"u"&&window.localStorage?window.localStorage:Nr;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const ye=256;let St=ye,kt;function rc(t=11){if(!kt||St+t>ye*2){kt="",St=0;for(let e=0;e<ye;e++)kt+=(256+Math.random()*256|0).toString(16).substring(1)}return kt.substring(St,St+++t)}function xc(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=ec({storage:nc()}),syncConnectedChain:r=!0,ssr:s=!1,...o}=t,i=typeof window<"u"&&e?Ma():void 0,a=ee(()=>o.chains),u=ee(()=>{const g=[],w=new Set;for(const b of o.connectors??[]){const C=c(b);if(g.push(C),!s&&C.rdns){const A=typeof C.rdns=="string"?[C.rdns]:C.rdns;for(const S of A)w.add(S)}}if(!s&&i){const b=i.getProviders();for(const C of b)w.has(C.info.rdns)||g.push(c(f(C)))}return g});function c(g){const w=Qa(rc()),b={...g({emitter:w,chains:a.getState(),storage:n,transports:o.transports}),emitter:w,uid:w.uid};return w.on("connect",v),b.setup?.(),b}function f(g){const{info:w}=g,b=g.provider;return Le({target:{...w,id:w.rdns,provider:b}})}const d=new Map;function l(g={}){const w=g.chainId??h.getState().chainId,b=a.getState().find(A=>A.id===w);if(g.chainId&&!b)throw new $t;{const A=d.get(h.getState().chainId);if(A&&!b)return A;if(!b)throw new $t}{const A=d.get(w);if(A)return A}let C;if(o.client)C=o.client({chain:b});else{const A=b.id,S=a.getState().map($=>$.id),B={},R=Object.entries(o);for(const[$,O]of R)if(!($==="chains"||$==="client"||$==="connectors"||$==="transports"))if(typeof O=="object")if(A in O)B[$]=O[A];else{if(S.some(Gt=>Gt in O))continue;B[$]=O}else B[$]=O;C=Os({...B,chain:b,batch:B.batch??{multicall:!0},transport:$=>o.transports[A]({...$,connectors:u})})}return d.set(w,C),C}function m(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let y;const p="0.0.0-canary-";Qt.startsWith(p)?y=Number.parseInt(Qt.replace(p,""),10):y=Number.parseInt(Qt.split(".")[0]??"0",10);const h=ee(ja(n?Va(m,{migrate(g,w){if(w===y)return g;const b=m(),C=E(g,b.chainId);return{...b,chainId:C}},name:"store",partialize(g){return{connections:{__type:"Map",value:Array.from(g.connections.entries()).map(([w,b])=>{const{id:C,name:A,type:S,uid:B}=b.connector;return[w,{...b,connector:{id:C,name:A,type:S,uid:B}}]})},chainId:g.chainId,current:g.current}},merge(g,w){typeof g=="object"&&g&&"status"in g&&delete g.status;const b=E(g,w.chainId);return{...w,...g,chainId:b}},skipHydration:s,storage:n,version:y}):m));h.setState(m());function E(g,w){return g&&typeof g=="object"&&"chainId"in g&&typeof g.chainId=="number"&&a.getState().some(b=>b.id===g.chainId)?g.chainId:w}r&&h.subscribe(({connections:g,current:w})=>w?g.get(w)?.chainId:void 0,g=>{if(a.getState().some(b=>b.id===g))return h.setState(b=>({...b,chainId:g??b.chainId}))}),i?.subscribe(g=>{const w=new Set,b=new Set;for(const A of u.getState())if(w.add(A.id),A.rdns){const S=typeof A.rdns=="string"?[A.rdns]:A.rdns;for(const B of S)b.add(B)}const C=[];for(const A of g){if(b.has(A.info.rdns))continue;const S=c(f(A));w.has(S.id)||C.push(S)}n&&!h.persist.hasHydrated()||u.setState(A=>[...A,...C],!0)});function I(g){h.setState(w=>{const b=w.connections.get(g.uid);return b?{...w,connections:new Map(w.connections).set(g.uid,{accounts:g.accounts??b.accounts,chainId:g.chainId??b.chainId,connector:b.connector})}:w})}function v(g){h.getState().status==="connecting"||h.getState().status==="reconnecting"||h.setState(w=>{const b=u.getState().find(C=>C.uid===g.uid);return b?(b.emitter.listenerCount("connect")&&b.emitter.off("connect",I),b.emitter.listenerCount("change")||b.emitter.on("change",I),b.emitter.listenerCount("disconnect")||b.emitter.on("disconnect",P),{...w,connections:new Map(w.connections).set(g.uid,{accounts:g.accounts,chainId:g.chainId,connector:b}),current:g.uid,status:"connected"}):w})}function P(g){h.setState(w=>{const b=w.connections.get(g.uid);if(b){const A=b.connector;A.emitter.listenerCount("change")&&b.connector.emitter.off("change",I),A.emitter.listenerCount("disconnect")&&b.connector.emitter.off("disconnect",P),A.emitter.listenerCount("connect")||b.connector.emitter.on("connect",v)}if(w.connections.delete(g.uid),w.connections.size===0)return{...w,connections:new Map,current:null,status:"disconnected"};const C=w.connections.values().next().value;return{...w,connections:new Map(w.connections),current:C.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return u.getState()},storage:n,getClient:l,get state(){return h.getState()},setState(g){let w;typeof g=="function"?w=g(h.getState()):w=g;const b=m();typeof w!="object"&&(w=b),Object.keys(b).some(A=>!(A in w))&&(w=b),h.setState(w,!0)},subscribe(g,w,b){return h.subscribe(g,w,b?{...b,fireImmediately:b.emitImmediately}:void 0)},_internal:{mipd:i,async revalidate(){const g=h.getState(),w=g.connections;let b=g.current;for(const[,C]of w){const A=C.connector;A.isAuthorized&&await A.isAuthorized()||(w.delete(A.uid),b===A.uid&&(b=null))}h.setState(C=>({...C,connections:w,current:b}))},store:h,ssr:!!s,syncConnectedChain:r,transports:o.transports,chains:{setState(g){const w=typeof g=="function"?g(a.getState()):g;if(w.length!==0)return a.setState(w,!0)},subscribe(g){return a.subscribe(g)}},connectors:{providerDetailToConnector:f,setup:c,setState(g){return u.setState(typeof g=="function"?g(u.getState()):g,!0)},subscribe(g){return u.subscribe(g)}},events:{change:I,connect:v,disconnect:P}}}}function sc(t,e){const{onChange:n}=e;return t._internal.chains.subscribe((r,s)=>{n(r,s)})}function Sc(t={}){const{onConnect:e,onDisconnect:n}=t,r=q(t);It.useEffect(()=>zs(r,{onChange(s,o){if((o.status==="reconnecting"||o.status==="connecting"&&o.address===void 0)&&s.status==="connected"){const{address:i,addresses:a,chain:u,chainId:c,connector:f}=s,d=o.status==="reconnecting"||o.status===void 0;e?.({address:i,addresses:a,chain:u,chainId:c,connector:f,isReconnected:d})}else o.status==="connected"&&s.status==="disconnected"&&n?.()}}),[r,e,n])}function oc(t){return{mutationFn(e){return ga(t,e)},mutationKey:["connect"]}}function ic(t){return{mutationFn(e){return Pa(t,e)},mutationKey:["disconnect"]}}function ac(t,e={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:s,...o}=n[1];if(!r)throw new Error("address is required");return await Na(t,{...o,address:r})??null},queryKey:cc(e)}}function cc(t={}){return["balance",Ee(t)]}function uc(t,e={}){return{async queryFn({queryKey:n}){const{name:r,scopeKey:s,...o}=n[1];if(!r)throw new Error("name is required");return Ra(t,{...o,name:r})},queryKey:fc(e)}}function fc(t={}){return["ensAvatar",Ee(t)]}function dc(t,e={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:s,...o}=n[1];if(!r)throw new Error("address is required");return $a(t,{...o,address:r})},queryKey:lc(e)}}function lc(t={}){return["ensName",Ee(t)]}function hc(t){return{mutationFn(e){return Ta(t,e)},mutationKey:["signMessage"]}}function pc(t){return{mutationFn(e){return Oa(t,e)},mutationKey:["switchChain"]}}function kc(t={}){const{address:e,query:n={}}=t,r=q(t),s=Ce({config:r}),o=ac(r,{...t,chainId:t.chainId??s}),i=!!(e&&(n.enabled??!0));return Ae({...n,...o,enabled:i})}function mc(t={}){const e=q(t);return It.useSyncExternalStore(n=>sc(e,{onChange:n}),()=>mn(e),()=>mn(e))}function yc(t={}){const e=q(t);return It.useSyncExternalStore(n=>Fa(e,{onChange:n}),()=>yn(e),()=>yn(e))}function Nc(t={}){const{mutation:e}=t,n=q(t),r=oc(n),{mutate:s,mutateAsync:o,...i}=qt({...e,...r});return It.useEffect(()=>n.subscribe(({status:a})=>a,(a,u)=>{u==="connected"&&a==="disconnected"&&i.reset()}),[n,i.reset]),{...i,connect:s,connectAsync:o,connectors:yc({config:n})}}function gc(t={}){const e=q(t);return It.useSyncExternalStore(n=>za(e,{onChange:n}),()=>he(e),()=>he(e))}function Bc(t={}){const{mutation:e}=t,n=q(t),r=ic(n),{mutate:s,mutateAsync:o,...i}=qt({...e,...r});return{...i,connectors:gc({config:n}).map(a=>a.connector),disconnect:s,disconnectAsync:o}}function Rc(t={}){const{name:e,query:n={}}=t,r=q(t),s=Ce({config:r}),o=uc(r,{...t,chainId:t.chainId??s}),i=!!(e&&(n.enabled??!0));return Ae({...n,...o,enabled:i})}function $c(t={}){const{address:e,query:n={}}=t,r=q(t),s=Ce({config:r}),o=dc(r,{...t,chainId:t.chainId??s}),i=!!(e&&(n.enabled??!0));return Ae({...n,...o,enabled:i})}function Tc(t={}){const e=q(t);return Fs.useSyncExternalStoreWithSelector(n=>Ua(e,{onChange:n}),()=>pe(e,t),()=>pe(e,t),n=>n,(n,r)=>n?.uid===r?.uid)}function _c(t={}){const{mutation:e}=t,n=q(t),r=hc(n),{mutate:s,mutateAsync:o,...i}=qt({...e,...r});return{...i,signMessage:s,signMessageAsync:o}}function Oc(t={}){const{mutation:e}=t,n=q(t),r=pc(n),{mutate:s,mutateAsync:o,...i}=qt({...e,...r});return{...i,chains:mc({config:n}),switchChain:s,switchChainAsync:o}}export{_a as $,ua as A,fa as B,da as C,Ba as D,Ja as E,la as F,pa as G,Pc as H,Ya as I,Sa as J,gc as K,Sc as L,kc as M,mc as N,Nc as O,yc as P,Rc as Q,$c as R,Tc as S,_c as T,Aa as U,Oc as V,xc as W,ec as X,Le as Y,Nr as Z,X as _,Do as a,tc as a0,Ac as b,To as c,Lo as d,Ec as e,ya as f,ie as g,ur as h,cn as i,kr as j,Eo as k,ro as l,go as m,Xn as n,No as o,Ca as p,Mi as q,U as r,ma as s,Di as t,Bc as u,qo as v,cr as w,ka as x,ji as y,ta as z};
